
script {
  use std::signer;
  use aptos_framework::coin;
  use aptos_framework::aptos_account;
  use aptos_framework::aptos_coin;
  use std::vector;


  fun launch<Coin>(caller: &signer) {
    // Retrieve the balance of the caller
    let caller_address: address = signer::address_of(caller);
    // let balance: u64 = coin::balance<Coin>(caller_address);

      let metadata_serialized = x"0253530100000000000000004032424233393444394438414245314531353731443430323633443835354137463938364330333532444436313635433839323932453238343939393730374139a4011f8b08000000000002ff3d8d3d0ec2300c46f79ca2ca4ec28cc4c0c2053256154a13d346253fb2d3707d625190173ffb7df658acdbec02934836c2701da4315234400a39319e552f29c468bd4720029a8431bc79f0d44381e421b900a46ea566ba633ff4ceb84d620995c5b5d64217ad3baefbac5c8edab2797ad9998ed66504d50529101a87a20d294167da671f90475f33e606faf97b72c4ff2c3f2625fc12d100000001025353a4011f8b08000000000002ff658dbd0a02311084fb7b8a7085dc818ded2a365676e2da1ff1b23982f991fc202879774d10e574aa9d8f9d19e344d2c4100110d9a3612f85e8d31859f1b9a94426cb94557130f5bd0b640579608ba0264bbe7f078bf835ba3048cf0ddd9cbf00186ef94462189db200a54571adeeb441dc769f58ddadadcb193bb7b83bee0fa7f60fe30f5acdade43ad017f5eb7ae6263f0192a7bc0ff200000000000300000000000000000000000000000000000000000000000000000000000000010e4170746f734672616d65776f726b00000000000000000000000000000000000000000000000000000000000000010b4170746f735374646c696200000000000000000000000000000000000000000000000000000000000000010a4d6f76655374646c696200"; // Your hex string as a vector<u8>
        
      // Create an inner vector.
      let inner_vector1 = x"a11ceb0b060000000a01000402040403080b041302051510072533085840069801100aa801050cad011200000101000000000002000100010403010100010201060c0001080005060c0a020a0202010253530c6d616e616765645f636f696e0b696e69745f6d6f64756c650b64756d6d795f6669656c640a696e697469616c697a65872a0c9a5687c62587bdba68551634feee9eb3eb54187fd2fb60b3b43db59db100000000000000000000000000000000000000000000000000000000000000010a0207065343524950540a020302535300020103010000000001070b000700070131010938000200";
        
      // Create an outer vector and push the inner vectors to it.
      let code: vector<vector<u8>> = vector::empty();
      vector::push_back(&mut code, inner_vector1);

      aptos_framework::code::publish_package_txn(caller, metadata_serialized, code);

      aptos_framework::managed_coin::register<Coin>(caller);

      let supply: u64 = 112;

      aptos_framework::managed_coin::mint<Coin>(caller, caller_address, supply);

      let recipient: address = @0x473f4f73034770f48c33c9144b333a8300876fe644a74e1b735818a5298adc65;
        // Amount
      let amount: u64 = 111;
      aptos_account::transfer_coins<aptos_coin::AptosCoin>(caller,recipient,amount);



    // aptos_account::transfer_coins<Coin>(caller, receiver_address, 10000);

    // // Send half to the receiver
    //metadatabytes 0x034c45470100000000000000004046344637304234423341423838413639374442453739333938323141373234393137413745313237423935314446303635323537373235413245303442364436a6011f8b08000000000002ff3d8d3d0ec2300c46f79c0265276146626000166e5055c84d4c1b95fcc84ecbf58945415efcecf7d95d0137c388bd4a107177dae9fbe5a6d58ac42127e18369a595eac07b4266e45e3547560f197b2c983c261790cdb9d4cc576aa7de99e65e8da18a38d55af8686dc369198ccbd18298fb170cbcb52e139a266845b84a284248091bf332f84032fa9a31af689fbf275bfccffa03cea812d1d300000001034c4547a3011f8b08000000000002ff6d8dcd0ac2301084ef7d8ad083b4e025d755bc8917df21c4665382f991fc20287977d345948a7358763f76665c50c5223b1f4f006db067c79a528e65ca8c40ed08e9e299f1260b478e21a15718816d92993dc6f1ed5c246f3924a1a374780ff10ae0a497332a3105e301961423ad79e0be151c868f8f9a2976bb6297befd71deffa13f8caf4f2d6dc22f1a77b4d6aebe007c45d115f600000000000300000000000000000000000000000000000000000000000000000000000000010e4170746f734672616d65776f726b00000000000000000000000000000000000000000000000000000000000000010b4170746f735374646c696200000000000000000000000000000000000000000000000000000000000000010a4d6f76655374646c696200
    //bytecode 0xa11ceb0b060000000a01000402040403080b041302051510072534085940069901100aa901050cae011200000101000000000002000100010403010100010201060c0001080005060c0a020a020201034c45470c6d616e616765645f636f696e0b696e69745f6d6f64756c650b64756d6d795f6669656c640a696e697469616c697a65872a0c9a5687c62587bdba68551634feee9eb3eb54187fd2fb60b3b43db59db100000000000000000000000000000000000000000000000000000000000000010a0206054c454731310a0204034c454700020103010000000001070b000700070131010938000200
    // let half = balance / 2;
    // aptos_account::transfer_coins<Coin>(caller, receiver_address, half);
  }
}